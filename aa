HOST1=localhost
HOST2=localhost
perl_syntax passed
Here is imapsync 2.223 on host petite, a linux system with 0.1/2.0 free GiB of RAM, 107.34% used by processes.
with Perl 5.22.1 and Mail::IMAPClient 3.43
Transfer started at jeudi 07 juillet 2022-07-07 09:53:06 +0200 CEST
PID is 31799 my PPID is 31540
Log file is LOG_imapsync/2022_07_07_09_53_06_047_imapsync.gl@gmail.com_imapsync.gl@gmail.com.txt ( to change it, use --logfile path ; or use --nolog to turn off logging )
Load is 0.16 0.29 0.33 3/628 on 2 cores
Current directory is /home/gilles/public_html/imapsync
Real user id is gilles (uid 1000)
Effective user id is gilles (euid 1000)
$RCSfile: imapsync,v $ $Revision: 2.223 $ $Date: 2022/07/03 10:39:30 $ 
Command line used, run by /usr/bin/perl:
./imapsync --gmail1 --user1 imapsync.gl@gmail.com --passfile1 ../../var/pass/secret.imapsync.gl_gmail --gmail2 --user2 imapsync.gl@gmail.com --passfile2 ../../var/pass/secret.imapsync.gl_gmail --no-modulesversion --justfolderlists
Temp directory is /tmp ( to change it use --tmpdir dirpath )
kill -QUIT 31799 # special behavior: call to sub catch_exit
kill -TERM 31799 # special behavior: call to sub catch_exit
kill -INT 31799 # special behavior: call to sub catch_reconnect
kill -HUP 31799 # special behavior: call to sub catch_print
kill -USR1 31799 # special behavior: call to sub toggle_sleep
File /tmp/imapsync.pid does not exist
PID file is /tmp/imapsync.pid ( to change it, use --pidfile filepath ; to avoid it use --pidfile "" )
Writing my PID 31799 in /tmp/imapsync.pid
Writing also my logfile name in /tmp/imapsync.pid : LOG_imapsync/2022_07_07_09_53_06_047_imapsync.gl@gmail.com_imapsync.gl@gmail.com.txt
Info: will resync flags for already transferred messages. Use --noresyncflags to not resync flags.
SSL debug mode level is --debugssl 1 (can be set from 0 meaning no debug to 4 meaning max debug)
Host1: SSL default mode is like --sslargs1 "SSL_verify_mode=0", meaning for host1 SSL_VERIFY_NONE, ie, do not check the server certificate.
Host1: Use --sslargs1 SSL_verify_mode=1 to have SSL_VERIFY_PEER, ie, check the server certificate. of host1
Host2: SSL default mode is like --sslargs2 "SSL_verify_mode=0", meaning for host2 SSL_VERIFY_NONE, ie, do not check the server certificate.
Host2: Use --sslargs2 SSL_verify_mode=1 to have SSL_VERIFY_PEER, ie, check the server certificate. of host2
Info: turned ON syncinternaldates, will set the internal dates (arrival dates) on host2 same as host1.
Host1: will try to use LOGIN authentication on host1
Host2: will try to use LOGIN authentication on host2
Host1: imap connection timeout is 120 seconds
Host2: imap connection timeout is 120 seconds
Host1: imap connection keepalive is on on host1. Use --nokeepalive1 to disable it.
Host2: imap connection keepalive is on on host2. Use --nokeepalive2 to disable it.
Host1: IMAP server [imap.gmail.com] port [993] user [imapsync.gl@gmail.com]
Host2: IMAP server [imap.gmail.com] port [993] user [imapsync.gl@gmail.com]
Host1: connecting and login on host1 [imap.gmail.com] port [993] with user [imapsync.gl@gmail.com]
Host1 IP address: 2a00:1450:400c:c07::6c Local IP address: 2a01:e34:ecde:70d0:223:54ff:fec2:36d7
Host1 banner: * OK Gimap ready for requests from 2a01:e34:ecde:70d0:223:54ff:fec2:36d7 t12mb104916042wmq
Host1 capability before authentication: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 XYZZY SASL-IR AUTH=XOAUTH2 AUTH=PLAIN AUTH=PLAIN-CLIENTTOKEN AUTH=OAUTHBEARER AUTH=XOAUTH AUTH
Host1: success login on [imap.gmail.com] with user [imapsync.gl@gmail.com] auth [LOGIN] or [LOGIN]
Host2: connecting and login on host2 [imap.gmail.com] port [993] with user [imapsync.gl@gmail.com]
Host2 IP address: 2a00:1450:400c:c07::6d Local IP address: 2a01:e34:ecde:70d0:223:54ff:fec2:36d7
Host2 banner: * OK Gimap ready for requests from 2a01:e34:ecde:70d0:223:54ff:fec2:36d7 f11mb222883796wri
Host2 capability before authentication: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 XYZZY SASL-IR AUTH=XOAUTH2 AUTH=PLAIN AUTH=PLAIN-CLIENTTOKEN AUTH=OAUTHBEARER AUTH=XOAUTH AUTH
Host2: success login on [imap.gmail.com] with user [imapsync.gl@gmail.com] auth [LOGIN] or [LOGIN]
Host1: state Authenticated
Host2: state Authenticated
Host1 capability once authenticated: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE ENABLE MOVE CONDSTORE ESEARCH UTF8=ACCEPT LIST-EXTENDED LIST-STATUS LITERAL- SPECIAL-USE APPENDLIMIT=35651584 COMPRESS UTF8 APPENDLIMIT
Host2 capability once authenticated: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE ENABLE MOVE CONDSTORE ESEARCH UTF8=ACCEPT LIST-EXTENDED LIST-STATUS LITERAL- SPECIAL-USE APPENDLIMIT=35651584 COMPRESS UTF8 APPENDLIMIT
Host1: found ID capability. Sending/receiving ID, presented in raw IMAP for now.
In order to avoid sending/receiving ID, use option --noid
Sending: 4 ID ("name" "imapsync" "version" "2.223" "os" "linux" "vendor" "Gilles LAMIRAL" "support-url" "https://imapsync.lamiral.info/" "date" "03-Jul-2022 10:39:30 +0000" "side" "host1")
Sent 181 bytes
Read: 	* ID ("name" "GImap" "vendor" "Google, Inc." "support-url" "https://support.google.com/mail" "version" "gmail_imap_220624.08_p0" "remote-host" "2a01:e34:ecde:70d0:223:54ff:fec2:36d7")
  	4 OK Success
Host2: found ID capability. Sending/receiving ID, presented in raw IMAP for now.
In order to avoid sending/receiving ID, use option --noid
Sending: 4 ID ("name" "imapsync" "version" "2.223" "os" "linux" "vendor" "Gilles LAMIRAL" "support-url" "https://imapsync.lamiral.info/" "date" "03-Jul-2022 10:39:30 +0000" "side" "host2")
Sent 181 bytes
Read: 	* ID ("name" "GImap" "vendor" "Google, Inc." "support-url" "https://support.google.com/mail" "version" "gmail_imap_220624.08_p0" "remote-host" "2a01:e34:ecde:70d0:223:54ff:fec2:36d7")
  	4 OK Success

Host2: QUOTA capability found, presented in raw IMAP on next lines
Sending: 5 GETQUOTAROOT INBOX
Sent 22 bytes
Read: 	* QUOTAROOT "INBOX" ""
  	* QUOTA "" (STORAGE 23274 15728640)
  	5 OK Success

Host2: Quota current storage is 23832576 bytes. Limit is 16106127360 bytes. So 0.15 % full
Host2: found APPENDLIMIT=35651584 in CAPABILITY (use --appendlimit xxxx to override this automatic setting)
Host2: Setting maxsize to appendlimit 35651584
Host1: Compression is off. Use --compress1 to allow compression on host1
Host2: Compression is off. Use --compress2 to allow compression on host2
Host1: found 144 folders.
Host2: found 144 folders.
Host1: guessing separator from folder listing: [/]
Host1: separator given by NAMESPACE: [/]
Host2: guessing separator from folder listing: [/]
Host2: separator given by NAMESPACE: [/]
Host1: guessing prefix from folder listing: []
Host1: prefix given by NAMESPACE: []
Host2: guessing prefix from folder listing: []
Host2: prefix given by NAMESPACE: []
Host1: separator and prefix: [/][]
Host2: separator and prefix: [/][]
Including all folders found by default. Use --subscribed or --folder or --folderrec or --include to select specific folders. Use --exclude to unselect specific folders.
Excluding folders matching pattern \[Gmail\]$
[[Gmail]]

Host1: Checking wanted folders exist. Use --nocheckfoldersexist to avoid this check (shared of public namespace targeted).
Host1: Checking wanted folders are selectable. Use --nocheckselectable to avoid this check.
Turned on automapping folders ( use --noautomap to turn off automapping )
Host1: special [Gmail]/All Mail     = \All
Host1: special [Gmail]/Bin          = \Trash
Host1: special [Gmail]/Drafts       = \Drafts
Host1: special [Gmail]/Sent Mail    = \Sent
Host1: special [Gmail]/Spam         = \Junk
Host1: special [Gmail]/Starred      = \Flagged

Host2: special [Gmail]/All Mail     = \All
Host2: special [Gmail]/Bin          = \Trash
Host2: special [Gmail]/Drafts       = \Drafts
Host2: special [Gmail]/Sent Mail    = \Sent
Host2: special [Gmail]/Spam         = \Junk
Host2: special [Gmail]/Starred      = \Flagged


++++ Listing folders
All foldernames are presented between brackets like [X] where X is the foldername.
When a foldername contains non-ASCII characters it is presented in the form
[X] = [Y] where
X is the imap foldername you have to use in command line options and
Y is the utf8 output just printed for convenience, to recognize it.

Host1: folders list (first the raw imap format then the [X] = [Y]):
* LIST (\HasNoChildren) "/" "\"qq\""
* LIST (\HasNoChildren) "/" "\"uni\""
* LIST (\HasNoChildren) "/" "A B"
* LIST (\HasNoChildren) "/" "A:B:C"
* LIST (\HasChildren) "/" "Aa"
* LIST (\HasChildren) "/" "Aa/B"
* LIST (\HasNoChildren) "/" "Aa/B/C"
* LIST (\HasChildren) "/" "BBB"
* LIST (\HasNoChildren) "/" "BBB/ blanc_begin"
* LIST (\HasNoChildren) "/" "BBB/\"qq\""
* LIST (\HasNoChildren) "/" "BBB/\"uni\""
* LIST (\HasNoChildren) "/" "BBB/A"
* LIST (\HasNoChildren) "/" "BBB/A B"
* LIST (\HasNoChildren) "/" "BBB/A:B:C"
* LIST (\HasNoChildren) "/" "BBB/Draft"
* LIST (\HasNoChildren) "/" "BBB/Drafts"
* LIST (\HasNoChildren) "/" "BBB/Giancarlo"
* LIST (\HasNoChildren) "/" "BBB/INBOX"
* LIST (\HasNoChildren) "/" "BBB/Junk"
* LIST (\HasNoChildren) "/" "BBB/Messages envoy&AOk-s"
* LIST (\HasNoChildren) "/" "BBB/Messagesenvoy&AOk-s"
* LIST (\HasNoChildren) "/" "BBB/NUL_char"
* LIST (\HasNoChildren) "/" "BBB/Note"
* LIST (\HasNoChildren) "/" "BBB/SMS"
* LIST (\HasNoChildren) "/" "BBB/Sent"
* LIST (\HasChildren) "/" "BBB/Trash"
* LIST (\HasNoChildren) "/" "BBB/Trash/Giancarlo"
* LIST (\HasNoChildren) "/" "BBB/[bracket]"
* LIST (\HasNoChildren) "/" "BBB/a@bc"
* LIST (\HasNoChildren) "/" "BBB/addheader"
* LIST (\HasNoChildren) "/" "BBB/backstar\\*"
* LIST (\HasNoChildren) "/" "BBB/bigmail2"
* LIST (\HasChildren) "/" "BBB/blanc"
* LIST (\HasChildren \Noselect) "/" "BBB/blanc "
* LIST (\HasNoChildren) "/" "BBB/blanc /blanc2"
* LIST (\HasNoChildren) "/" "BBB/blanc middle"
* LIST (\HasNoChildren) "/" "BBB/blanc/blanc2"
* LIST (\HasNoChildren) "/" "BBB/blanc_begin"
* LIST (\HasNoChildren) "/" "BBB/disarm"
* LIST (\HasNoChildren) "/" "BBB/duplicates"
* LIST (\HasNoChildren) "/" "BBB/errors"
* LIST (\HasNoChildren) "/" "BBB/f g\\h\"i'j"
* LIST (\HasNoChildren) "/" "BBB/f g\\h_i_j"
* LIST (\HasNoChildren) "/" "BBB/few_emails"
* LIST (\HasNoChildren) "/" "BBB/lalala"
* LIST (\HasNoChildren) "/" "BBB/longline"
* LIST (\HasNoChildren) "/" "BBB/new_folder"
* LIST (\HasNoChildren) "/" "BBB/oneemail"
* LIST (\HasNoChildren) "/" "BBB/oneemail2"
* LIST (\HasNoChildren) "/" "BBB/oneemail3"
* LIST (\HasNoChildren) "/" "BBB/partial"
* LIST (\HasNoChildren) "/" "BBB/ppp"
* LIST (\HasNoChildren) "/" "BBB/qqq"
* LIST (\HasNoChildren) "/" "BBB/regexmess"
* LIST (\HasNoChildren) "/" "BBB/scwchu"
* LIST (\HasNoChildren) "/" "BBB/size_null"
* LIST (\HasNoChildren) "/" "BBB/star*"
* LIST (\HasNoChildren) "/" "BBB/uni"
* LIST (\HasNoChildren) "/" "BBB/useuid"
* LIST (\HasChildren) "/" "BBB/yop"
* LIST (\HasNoChildren) "/" "BBB/yop/YAP"
* LIST (\HasChildren \Noselect) "/" "BBB/yop/yap"
* LIST (\HasNoChildren) "/" "BBB/yop/yap/yip"
* LIST (\HasChildren) "/" "BBB/yop/yup"
* LIST (\HasChildren) "/" "BBB/yop/yup/yip"
* LIST (\HasChildren) "/" "BBB/yop/yup/yip/yap"
* LIST (\HasNoChildren) "/" "BBB/yop/yup/yip/yap/yep"
* LIST (\HasChildren) "/" "BBB/yopX"
* LIST (\HasNoChildren) "/" "BBB/yopX/yap"
* LIST (\HasNoChildren) "/" "BBB/yopX/yup"
* LIST (\HasNoChildren) "/" "BBB/zz"
* LIST (\HasNoChildren) "/" "BBB/zz_1"
* LIST (\HasNoChildren) "/" "BBB/zz_2"
* LIST (\HasNoChildren) "/" "BBB/zz_3"
* LIST (\HasNoChildren) "/" "Chats"
* LIST (\HasNoChildren) "/" "Draft"
* LIST (\HasNoChildren) "/" "Drafts"
* LIST (\HasNoChildren) "/" "Dumb"
* LIST (\HasNoChildren) "/" "Giancarlo"
* LIST (\HasChildren \Noselect) "/" "Gmail"
* LIST (\HasNoChildren) "/" "Gmail/Messages envoyes"
* LIST (\HasNoChildren) "/" "INBOX"
* LIST (\HasNoChildren) "/" "Important"
* LIST (\HasNoChildren) "/" "Junk"
* LIST (\HasNoChildren) "/" "Messages envoy&AOk-s"
* LIST (\HasNoChildren) "/" "Messages_envoy&AOk-s"
* LIST (\HasNoChildren) "/" "Messagesenvoy&AOk-s"
* LIST (\HasNoChildren) "/" "Note"
* LIST (\HasNoChildren) "/" "SMS"
* LIST (\HasNoChildren) "/" "Sent"
* LIST (\HasNoChildren) "/" "Test"
* LIST (\HasNoChildren) "/" "Trash"
* LIST (\HasNoChildren) "/" "Updates_L"
* LIST (\HasChildren) "/" "[Gmail]"
* LIST (\All \HasNoChildren) "/" "[Gmail]/All Mail"
* LIST (\HasNoChildren \Trash) "/" "[Gmail]/Bin"
* LIST (\HasNoChildren) "/" "[Gmail]/Chats"
* LIST (\Drafts \HasNoChildren) "/" "[Gmail]/Drafts"
* LIST (\HasNoChildren \Important) "/" "[Gmail]/Important"
* LIST (\HasNoChildren) "/" "[Gmail]/Messages envoy&AOk-s"
* LIST (\HasNoChildren \Sent) "/" "[Gmail]/Sent Mail"
* LIST (\HasNoChildren \Junk) "/" "[Gmail]/Spam"
* LIST (\Flagged \HasNoChildren) "/" "[Gmail]/Starred"
* LIST (\HasNoChildren) "/" "[Gmail]/Trash"
* LIST (\HasNoChildren) "/" "[Gmail]/te*st"
* LIST (\HasNoChildren) "/" "a@bc"
* LIST (\HasNoChildren) "/" "addheader"
* LIST (\HasNoChildren) "/" "backstar\\*"
* LIST (\HasNoChildren) "/" "bigmail2"
* LIST (\HasChildren) "/" "blanc"
* LIST (\HasChildren \Noselect) "/" "blanc "
* LIST (\HasNoChildren) "/" "blanc /blanc2"
* LIST (\HasNoChildren) "/" "blanc middle"
* LIST (\HasNoChildren) "/" "blanc/blanc2"
* LIST (\HasNoChildren) "/" "blanc_begin"
* LIST (\HasChildren) "/" "blanc_end"
* LIST (\HasNoChildren) "/" "blanc_end/blanc2"
* LIST (\HasChildren) "/" "blanc_end2"
* LIST (\HasNoChildren) "/" "blanc_end2/blanc2"
* LIST (\HasNoChildren) "/" "duplicates"
* LIST (\HasNoChildren) "/" "f g\\h\"i'j"
* LIST (\HasNoChildren) "/" "f g\\h_i_j"
* LIST (\HasNoChildren) "/" "few_emails"
* LIST (\HasNoChildren) "/" "inbox_copy"
* LIST (\HasNoChildren) "/" "lalala"
* LIST (\HasNoChildren) "/" "new_folder"
* LIST (\HasNoChildren) "/" "oneemail"
* LIST (\HasNoChildren) "/" "oneemail2"
* LIST (\HasNoChildren) "/" "oneemail3"
* LIST (\HasNoChildren) "/" "ppp"
* LIST (\HasNoChildren) "/" "qqq"
* LIST (\HasNoChildren) "/" "regexmess"
* LIST (\HasNoChildren) "/" "scwchu"
* LIST (\HasNoChildren) "/" "size_null"
* LIST (\HasNoChildren) "/" "star*"
* LIST (\HasNoChildren) "/" "te*st"
* LIST (\HasNoChildren) "/" "uni"
* LIST (\HasNoChildren) "/" "useuid"
* LIST (\HasChildren) "/" "yop"
* LIST (\HasNoChildren) "/" "yop/yap"
* LIST (\HasChildren) "/" "yop/yup"
* LIST (\HasChildren) "/" "yop/yup/yip"
* LIST (\HasChildren) "/" "yop/yup/yip/yap"
* LIST (\HasNoChildren) "/" "yop/yup/yip/yap/yep"
* LIST (\HasChildren) "/" "yopX"
* LIST (\HasNoChildren) "/" "yopX/yap"
* LIST (\HasNoChildren) "/" "yopX/yup"
* LIST (\HasNoChildren) "/" "zz"
153 OK Success

["qq"]
["uni"]
[A B]
[A:B:C]
[Aa]
[Aa/B]
[Aa/B/C]
[BBB]
[BBB/ blanc_begin]
[BBB/"qq"]
[BBB/"uni"]
[BBB/A]
[BBB/A B]
[BBB/A:B:C]
[BBB/Draft]
[BBB/Drafts]
[BBB/Giancarlo]
[BBB/INBOX]
[BBB/Junk]
[BBB/Messages envoy&AOk-s] = [BBB/Messages envoyés]
[BBB/Messagesenvoy&AOk-s] = [BBB/Messagesenvoyés]
[BBB/NUL_char]
[BBB/Note]
[BBB/SMS]
[BBB/Sent]
[BBB/Trash]
[BBB/Trash/Giancarlo]
[BBB/[bracket]]
[BBB/a@bc]
[BBB/addheader]
[BBB/backstar\*]
[BBB/bigmail2]
[BBB/blanc]
[BBB/blanc /blanc2]
[BBB/blanc middle]
[BBB/blanc/blanc2]
[BBB/blanc_begin]
[BBB/disarm]
[BBB/duplicates]
[BBB/errors]
[BBB/f g\h"i'j]
[BBB/f g\h_i_j]
[BBB/few_emails]
[BBB/lalala]
[BBB/longline]
[BBB/new_folder]
[BBB/oneemail]
[BBB/oneemail2]
[BBB/oneemail3]
[BBB/partial]
[BBB/ppp]
[BBB/qqq]
[BBB/regexmess]
[BBB/scwchu]
[BBB/size_null]
[BBB/star*]
[BBB/uni]
[BBB/useuid]
[BBB/yop]
[BBB/yop/YAP]
[BBB/yop/yap/yip]
[BBB/yop/yup]
[BBB/yop/yup/yip]
[BBB/yop/yup/yip/yap]
[BBB/yop/yup/yip/yap/yep]
[BBB/yopX]
[BBB/yopX/yap]
[BBB/yopX/yup]
[BBB/zz]
[BBB/zz_1]
[BBB/zz_2]
[BBB/zz_3]
[Chats]
[Draft]
[Drafts]
[Dumb]
[Giancarlo]
[Gmail/Messages envoyes]
[INBOX]
[Important]
[Junk]
[Messages envoy&AOk-s] = [Messages envoyés]
[Messages_envoy&AOk-s] = [Messages_envoyés]
[Messagesenvoy&AOk-s] = [Messagesenvoyés]
[Note]
[SMS]
[Sent]
[Test]
[Trash]
[Updates_L]
[[Gmail]]
[[Gmail]/All Mail]
[[Gmail]/Bin]
[[Gmail]/Chats]
[[Gmail]/Drafts]
[[Gmail]/Important]
[[Gmail]/Messages envoy&AOk-s] = [[Gmail]/Messages envoyés]
[[Gmail]/Sent Mail]
[[Gmail]/Spam]
[[Gmail]/Starred]
[[Gmail]/Trash]
[[Gmail]/te*st]
[a@bc]
[addheader]
[backstar\*]
[bigmail2]
[blanc]
[blanc /blanc2]
[blanc middle]
[blanc/blanc2]
[blanc_begin]
[blanc_end]
[blanc_end/blanc2]
[blanc_end2]
[blanc_end2/blanc2]
[duplicates]
[f g\h"i'j]
[f g\h_i_j]
[few_emails]
[inbox_copy]
[lalala]
[new_folder]
[oneemail]
[oneemail2]
[oneemail3]
[ppp]
[qqq]
[regexmess]
[scwchu]
[size_null]
[star*]
[te*st]
[uni]
[useuid]
[yop]
[yop/yap]
[yop/yup]
[yop/yup/yip]
[yop/yup/yip/yap]
[yop/yup/yip/yap/yep]
[yopX]
[yopX/yap]
[yopX/yup]
[zz]

Host2: folders list (first the raw imap format then the [X] = [Y]):
* LIST (\HasNoChildren) "/" "\"qq\""
* LIST (\HasNoChildren) "/" "\"uni\""
* LIST (\HasNoChildren) "/" "A B"
* LIST (\HasNoChildren) "/" "A:B:C"
* LIST (\HasChildren) "/" "Aa"
* LIST (\HasChildren) "/" "Aa/B"
* LIST (\HasNoChildren) "/" "Aa/B/C"
* LIST (\HasChildren) "/" "BBB"
* LIST (\HasNoChildren) "/" "BBB/ blanc_begin"
* LIST (\HasNoChildren) "/" "BBB/\"qq\""
* LIST (\HasNoChildren) "/" "BBB/\"uni\""
* LIST (\HasNoChildren) "/" "BBB/A"
* LIST (\HasNoChildren) "/" "BBB/A B"
* LIST (\HasNoChildren) "/" "BBB/A:B:C"
* LIST (\HasNoChildren) "/" "BBB/Draft"
* LIST (\HasNoChildren) "/" "BBB/Drafts"
* LIST (\HasNoChildren) "/" "BBB/Giancarlo"
* LIST (\HasNoChildren) "/" "BBB/INBOX"
* LIST (\HasNoChildren) "/" "BBB/Junk"
* LIST (\HasNoChildren) "/" "BBB/Messages envoy&AOk-s"
* LIST (\HasNoChildren) "/" "BBB/Messagesenvoy&AOk-s"
* LIST (\HasNoChildren) "/" "BBB/NUL_char"
* LIST (\HasNoChildren) "/" "BBB/Note"
* LIST (\HasNoChildren) "/" "BBB/SMS"
* LIST (\HasNoChildren) "/" "BBB/Sent"
* LIST (\HasChildren) "/" "BBB/Trash"
* LIST (\HasNoChildren) "/" "BBB/Trash/Giancarlo"
* LIST (\HasNoChildren) "/" "BBB/[bracket]"
* LIST (\HasNoChildren) "/" "BBB/a@bc"
* LIST (\HasNoChildren) "/" "BBB/addheader"
* LIST (\HasNoChildren) "/" "BBB/backstar\\*"
* LIST (\HasNoChildren) "/" "BBB/bigmail2"
* LIST (\HasChildren) "/" "BBB/blanc"
* LIST (\HasChildren \Noselect) "/" "BBB/blanc "
* LIST (\HasNoChildren) "/" "BBB/blanc /blanc2"
* LIST (\HasNoChildren) "/" "BBB/blanc middle"
* LIST (\HasNoChildren) "/" "BBB/blanc/blanc2"
* LIST (\HasNoChildren) "/" "BBB/blanc_begin"
* LIST (\HasNoChildren) "/" "BBB/disarm"
* LIST (\HasNoChildren) "/" "BBB/duplicates"
* LIST (\HasNoChildren) "/" "BBB/errors"
* LIST (\HasNoChildren) "/" "BBB/f g\\h\"i'j"
* LIST (\HasNoChildren) "/" "BBB/f g\\h_i_j"
* LIST (\HasNoChildren) "/" "BBB/few_emails"
* LIST (\HasNoChildren) "/" "BBB/lalala"
* LIST (\HasNoChildren) "/" "BBB/longline"
* LIST (\HasNoChildren) "/" "BBB/new_folder"
* LIST (\HasNoChildren) "/" "BBB/oneemail"
* LIST (\HasNoChildren) "/" "BBB/oneemail2"
* LIST (\HasNoChildren) "/" "BBB/oneemail3"
* LIST (\HasNoChildren) "/" "BBB/partial"
* LIST (\HasNoChildren) "/" "BBB/ppp"
* LIST (\HasNoChildren) "/" "BBB/qqq"
* LIST (\HasNoChildren) "/" "BBB/regexmess"
* LIST (\HasNoChildren) "/" "BBB/scwchu"
* LIST (\HasNoChildren) "/" "BBB/size_null"
* LIST (\HasNoChildren) "/" "BBB/star*"
* LIST (\HasNoChildren) "/" "BBB/uni"
* LIST (\HasNoChildren) "/" "BBB/useuid"
* LIST (\HasChildren) "/" "BBB/yop"
* LIST (\HasNoChildren) "/" "BBB/yop/YAP"
* LIST (\HasChildren \Noselect) "/" "BBB/yop/yap"
* LIST (\HasNoChildren) "/" "BBB/yop/yap/yip"
* LIST (\HasChildren) "/" "BBB/yop/yup"
* LIST (\HasChildren) "/" "BBB/yop/yup/yip"
* LIST (\HasChildren) "/" "BBB/yop/yup/yip/yap"
* LIST (\HasNoChildren) "/" "BBB/yop/yup/yip/yap/yep"
* LIST (\HasChildren) "/" "BBB/yopX"
* LIST (\HasNoChildren) "/" "BBB/yopX/yap"
* LIST (\HasNoChildren) "/" "BBB/yopX/yup"
* LIST (\HasNoChildren) "/" "BBB/zz"
* LIST (\HasNoChildren) "/" "BBB/zz_1"
* LIST (\HasNoChildren) "/" "BBB/zz_2"
* LIST (\HasNoChildren) "/" "BBB/zz_3"
* LIST (\HasNoChildren) "/" "Chats"
* LIST (\HasNoChildren) "/" "Draft"
* LIST (\HasNoChildren) "/" "Drafts"
* LIST (\HasNoChildren) "/" "Dumb"
* LIST (\HasNoChildren) "/" "Giancarlo"
* LIST (\HasChildren \Noselect) "/" "Gmail"
* LIST (\HasNoChildren) "/" "Gmail/Messages envoyes"
* LIST (\HasNoChildren) "/" "INBOX"
* LIST (\HasNoChildren) "/" "Important"
* LIST (\HasNoChildren) "/" "Junk"
* LIST (\HasNoChildren) "/" "Messages envoy&AOk-s"
* LIST (\HasNoChildren) "/" "Messages_envoy&AOk-s"
* LIST (\HasNoChildren) "/" "Messagesenvoy&AOk-s"
* LIST (\HasNoChildren) "/" "Note"
* LIST (\HasNoChildren) "/" "SMS"
* LIST (\HasNoChildren) "/" "Sent"
* LIST (\HasNoChildren) "/" "Test"
* LIST (\HasNoChildren) "/" "Trash"
* LIST (\HasNoChildren) "/" "Updates_L"
* LIST (\HasChildren) "/" "[Gmail]"
* LIST (\All \HasNoChildren) "/" "[Gmail]/All Mail"
* LIST (\HasNoChildren \Trash) "/" "[Gmail]/Bin"
* LIST (\HasNoChildren) "/" "[Gmail]/Chats"
* LIST (\Drafts \HasNoChildren) "/" "[Gmail]/Drafts"
* LIST (\HasNoChildren \Important) "/" "[Gmail]/Important"
* LIST (\HasNoChildren) "/" "[Gmail]/Messages envoy&AOk-s"
* LIST (\HasNoChildren \Sent) "/" "[Gmail]/Sent Mail"
* LIST (\HasNoChildren \Junk) "/" "[Gmail]/Spam"
* LIST (\Flagged \HasNoChildren) "/" "[Gmail]/Starred"
* LIST (\HasNoChildren) "/" "[Gmail]/Trash"
* LIST (\HasNoChildren) "/" "[Gmail]/te*st"
* LIST (\HasNoChildren) "/" "a@bc"
* LIST (\HasNoChildren) "/" "addheader"
* LIST (\HasNoChildren) "/" "backstar\\*"
* LIST (\HasNoChildren) "/" "bigmail2"
* LIST (\HasChildren) "/" "blanc"
* LIST (\HasChildren \Noselect) "/" "blanc "
* LIST (\HasNoChildren) "/" "blanc /blanc2"
* LIST (\HasNoChildren) "/" "blanc middle"
* LIST (\HasNoChildren) "/" "blanc/blanc2"
* LIST (\HasNoChildren) "/" "blanc_begin"
* LIST (\HasChildren) "/" "blanc_end"
* LIST (\HasNoChildren) "/" "blanc_end/blanc2"
* LIST (\HasChildren) "/" "blanc_end2"
* LIST (\HasNoChildren) "/" "blanc_end2/blanc2"
* LIST (\HasNoChildren) "/" "duplicates"
* LIST (\HasNoChildren) "/" "f g\\h\"i'j"
* LIST (\HasNoChildren) "/" "f g\\h_i_j"
* LIST (\HasNoChildren) "/" "few_emails"
* LIST (\HasNoChildren) "/" "inbox_copy"
* LIST (\HasNoChildren) "/" "lalala"
* LIST (\HasNoChildren) "/" "new_folder"
* LIST (\HasNoChildren) "/" "oneemail"
* LIST (\HasNoChildren) "/" "oneemail2"
* LIST (\HasNoChildren) "/" "oneemail3"
* LIST (\HasNoChildren) "/" "ppp"
* LIST (\HasNoChildren) "/" "qqq"
* LIST (\HasNoChildren) "/" "regexmess"
* LIST (\HasNoChildren) "/" "scwchu"
* LIST (\HasNoChildren) "/" "size_null"
* LIST (\HasNoChildren) "/" "star*"
* LIST (\HasNoChildren) "/" "te*st"
* LIST (\HasNoChildren) "/" "uni"
* LIST (\HasNoChildren) "/" "useuid"
* LIST (\HasChildren) "/" "yop"
* LIST (\HasNoChildren) "/" "yop/yap"
* LIST (\HasChildren) "/" "yop/yup"
* LIST (\HasChildren) "/" "yop/yup/yip"
* LIST (\HasChildren) "/" "yop/yup/yip/yap"
* LIST (\HasNoChildren) "/" "yop/yup/yip/yap/yep"
* LIST (\HasChildren) "/" "yopX"
* LIST (\HasNoChildren) "/" "yopX/yap"
* LIST (\HasNoChildren) "/" "yopX/yup"
* LIST (\HasNoChildren) "/" "zz"
11 OK Success

["qq"]
["uni"]
[A B]
[A:B:C]
[Aa]
[Aa/B]
[Aa/B/C]
[BBB]
[BBB/ blanc_begin]
[BBB/"qq"]
[BBB/"uni"]
[BBB/A]
[BBB/A B]
[BBB/A:B:C]
[BBB/Draft]
[BBB/Drafts]
[BBB/Giancarlo]
[BBB/INBOX]
[BBB/Junk]
[BBB/Messages envoy&AOk-s] = [BBB/Messages envoyés]
[BBB/Messagesenvoy&AOk-s] = [BBB/Messagesenvoyés]
[BBB/NUL_char]
[BBB/Note]
[BBB/SMS]
[BBB/Sent]
[BBB/Trash]
[BBB/Trash/Giancarlo]
[BBB/[bracket]]
[BBB/a@bc]
[BBB/addheader]
[BBB/backstar\*]
[BBB/bigmail2]
[BBB/blanc]
[BBB/blanc /blanc2]
[BBB/blanc middle]
[BBB/blanc/blanc2]
[BBB/blanc_begin]
[BBB/disarm]
[BBB/duplicates]
[BBB/errors]
[BBB/f g\h"i'j]
[BBB/f g\h_i_j]
[BBB/few_emails]
[BBB/lalala]
[BBB/longline]
[BBB/new_folder]
[BBB/oneemail]
[BBB/oneemail2]
[BBB/oneemail3]
[BBB/partial]
[BBB/ppp]
[BBB/qqq]
[BBB/regexmess]
[BBB/scwchu]
[BBB/size_null]
[BBB/star*]
[BBB/uni]
[BBB/useuid]
[BBB/yop]
[BBB/yop/YAP]
[BBB/yop/yap/yip]
[BBB/yop/yup]
[BBB/yop/yup/yip]
[BBB/yop/yup/yip/yap]
[BBB/yop/yup/yip/yap/yep]
[BBB/yopX]
[BBB/yopX/yap]
[BBB/yopX/yup]
[BBB/zz]
[BBB/zz_1]
[BBB/zz_2]
[BBB/zz_3]
[Chats]
[Draft]
[Drafts]
[Dumb]
[Giancarlo]
[Gmail/Messages envoyes]
[INBOX]
[Important]
[Junk]
[Messages envoy&AOk-s] = [Messages envoyés]
[Messages_envoy&AOk-s] = [Messages_envoyés]
[Messagesenvoy&AOk-s] = [Messagesenvoyés]
[Note]
[SMS]
[Sent]
[Test]
[Trash]
[Updates_L]
[[Gmail]]
[[Gmail]/All Mail]
[[Gmail]/Bin]
[[Gmail]/Chats]
[[Gmail]/Drafts]
[[Gmail]/Important]
[[Gmail]/Messages envoy&AOk-s] = [[Gmail]/Messages envoyés]
[[Gmail]/Sent Mail]
[[Gmail]/Spam]
[[Gmail]/Starred]
[[Gmail]/Trash]
[[Gmail]/te*st]
[a@bc]
[addheader]
[backstar\*]
[bigmail2]
[blanc]
[blanc /blanc2]
[blanc middle]
[blanc/blanc2]
[blanc_begin]
[blanc_end]
[blanc_end/blanc2]
[blanc_end2]
[blanc_end2/blanc2]
[duplicates]
[f g\h"i'j]
[f g\h_i_j]
[few_emails]
[inbox_copy]
[lalala]
[new_folder]
[oneemail]
[oneemail2]
[oneemail3]
[ppp]
[qqq]
[regexmess]
[scwchu]
[size_null]
[star*]
[te*st]
[uni]
[useuid]
[yop]
[yop/yap]
[yop/yup]
[yop/yup/yip]
[yop/yup/yip/yap]
[yop/yup/yip/yap/yep]
[yopX]
[yopX/yap]
[yopX/yup]
[zz]

Folders mapping from --automap feature (use --f1f2 to override any mapping):
[[Gmail]/Starred]                        -> [[Gmail]/Starred]                       
[[Gmail]/Bin]                            -> [[Gmail]/Bin]                           
[[Gmail]/Drafts]                         -> [[Gmail]/Drafts]                        
[Junk]                                   -> [[Gmail]/Spam]                          
[[Gmail]/Sent Mail]                      -> [[Gmail]/Sent Mail]                     
[[Gmail]/All Mail]                       -> [[Gmail]/All Mail]                      
[Sent]                                   -> [[Gmail]/Sent Mail]                     
[Trash]                                  -> [[Gmail]/Bin]                           
[[Gmail]/Spam]                           -> [[Gmail]/Spam]                          
[Drafts]                                 -> [[Gmail]/Drafts]                        

Exiting because of --justfolderlists
Exiting with return value 0 (EX_OK: successful termination) 0/50 nb_errors/max_errors PID 31799
Removing pidfile /tmp/imapsync.pid
Disconnecting from host1 imap.gmail.com user1 imapsync.gl@gmail.com
Disconnecting from host2 imap.gmail.com user2 imapsync.gl@gmail.com
Log file is LOG_imapsync/2022_07_07_09_53_06_047_imapsync.gl@gmail.com_imapsync.gl@gmail.com.txt ( to change it, use --logfile filepath ; or use --nolog to turn off logging )
Here is imapsync 2.223 on host petite, a linux system with 0.1/2.0 free GiB of RAM, 108.00% used by processes.
with Perl 5.22.1 and Mail::IMAPClient 3.43
Transfer started at jeudi 07 juillet 2022-07-07 09:53:35 +0200 CEST
PID is 31806 my PPID is 31540
Log file is LOG_imapsync/2022_07_07_09_53_35_129_imapsync.gl0@gmail.com_imapsync.gl0@gmail.com.txt ( to change it, use --logfile path ; or use --nolog to turn off logging )
Load is 0.18 0.28 0.32 3/630 on 2 cores
Current directory is /home/gilles/public_html/imapsync
Real user id is gilles (uid 1000)
Effective user id is gilles (euid 1000)
$RCSfile: imapsync,v $ $Revision: 2.223 $ $Date: 2022/07/03 10:39:30 $ 
Command line used, run by /usr/bin/perl:
./imapsync --gmail1 --user1 imapsync.gl0@gmail.com --passfile1 ../../var/pass/secret.imapsync.gl0_gmail --gmail2 --user2 imapsync.gl0@gmail.com --passfile2 ../../var/pass/secret.imapsync.gl0_gmail --no-modulesversion --justfolderlists
Temp directory is /tmp ( to change it use --tmpdir dirpath )
kill -QUIT 31806 # special behavior: call to sub catch_exit
kill -TERM 31806 # special behavior: call to sub catch_exit
kill -INT 31806 # special behavior: call to sub catch_reconnect
kill -HUP 31806 # special behavior: call to sub catch_print
kill -USR1 31806 # special behavior: call to sub toggle_sleep
File /tmp/imapsync.pid does not exist
PID file is /tmp/imapsync.pid ( to change it, use --pidfile filepath ; to avoid it use --pidfile "" )
Writing my PID 31806 in /tmp/imapsync.pid
Writing also my logfile name in /tmp/imapsync.pid : LOG_imapsync/2022_07_07_09_53_35_129_imapsync.gl0@gmail.com_imapsync.gl0@gmail.com.txt
Info: will resync flags for already transferred messages. Use --noresyncflags to not resync flags.
SSL debug mode level is --debugssl 1 (can be set from 0 meaning no debug to 4 meaning max debug)
Host1: SSL default mode is like --sslargs1 "SSL_verify_mode=0", meaning for host1 SSL_VERIFY_NONE, ie, do not check the server certificate.
Host1: Use --sslargs1 SSL_verify_mode=1 to have SSL_VERIFY_PEER, ie, check the server certificate. of host1
Host2: SSL default mode is like --sslargs2 "SSL_verify_mode=0", meaning for host2 SSL_VERIFY_NONE, ie, do not check the server certificate.
Host2: Use --sslargs2 SSL_verify_mode=1 to have SSL_VERIFY_PEER, ie, check the server certificate. of host2
Info: turned ON syncinternaldates, will set the internal dates (arrival dates) on host2 same as host1.
Host1: will try to use LOGIN authentication on host1
Host2: will try to use LOGIN authentication on host2
Host1: imap connection timeout is 120 seconds
Host2: imap connection timeout is 120 seconds
Host1: imap connection keepalive is on on host1. Use --nokeepalive1 to disable it.
Host2: imap connection keepalive is on on host2. Use --nokeepalive2 to disable it.
Host1: IMAP server [imap.gmail.com] port [993] user [imapsync.gl0@gmail.com]
Host2: IMAP server [imap.gmail.com] port [993] user [imapsync.gl0@gmail.com]
Host1: connecting and login on host1 [imap.gmail.com] port [993] with user [imapsync.gl0@gmail.com]
Host1 IP address: 2a00:1450:400c:c07::6c Local IP address: 2a01:e34:ecde:70d0:223:54ff:fec2:36d7
Host1 banner: * OK Gimap ready for requests from 2a01:e34:ecde:70d0:223:54ff:fec2:36d7 u13mb163543970wrs
Host1 capability before authentication: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 XYZZY SASL-IR AUTH=XOAUTH2 AUTH=PLAIN AUTH=PLAIN-CLIENTTOKEN AUTH=OAUTHBEARER AUTH=XOAUTH AUTH
Host1: success login on [imap.gmail.com] with user [imapsync.gl0@gmail.com] auth [LOGIN] or [LOGIN]
Host2: connecting and login on host2 [imap.gmail.com] port [993] with user [imapsync.gl0@gmail.com]
Host2 IP address: 2a00:1450:400c:c07::6d Local IP address: 2a01:e34:ecde:70d0:223:54ff:fec2:36d7
Host2 banner: * OK Gimap ready for requests from 2a01:e34:ecde:70d0:223:54ff:fec2:36d7 i2mb49702066wmh
Host2 capability before authentication: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 XYZZY SASL-IR AUTH=XOAUTH2 AUTH=PLAIN AUTH=PLAIN-CLIENTTOKEN AUTH=OAUTHBEARER AUTH=XOAUTH AUTH
Host2: success login on [imap.gmail.com] with user [imapsync.gl0@gmail.com] auth [LOGIN] or [LOGIN]
Host1: state Authenticated
Host2: state Authenticated
Host1 capability once authenticated: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE ENABLE MOVE CONDSTORE ESEARCH UTF8=ACCEPT LIST-EXTENDED LIST-STATUS LITERAL- SPECIAL-USE APPENDLIMIT=35651584 COMPRESS UTF8 APPENDLIMIT
Host2 capability once authenticated: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE ENABLE MOVE CONDSTORE ESEARCH UTF8=ACCEPT LIST-EXTENDED LIST-STATUS LITERAL- SPECIAL-USE APPENDLIMIT=35651584 COMPRESS UTF8 APPENDLIMIT
Host1: found ID capability. Sending/receiving ID, presented in raw IMAP for now.
In order to avoid sending/receiving ID, use option --noid
Sending: 4 ID ("name" "imapsync" "version" "2.223" "os" "linux" "vendor" "Gilles LAMIRAL" "support-url" "https://imapsync.lamiral.info/" "date" "03-Jul-2022 10:39:30 +0000" "side" "host1")
Sent 181 bytes
Read: 	* ID ("name" "GImap" "vendor" "Google, Inc." "support-url" "https://support.google.com/mail" "version" "gmail_imap_220624.08_p0" "remote-host" "2a01:e34:ecde:70d0:223:54ff:fec2:36d7")
  	4 OK Success
Host2: found ID capability. Sending/receiving ID, presented in raw IMAP for now.
In order to avoid sending/receiving ID, use option --noid
Sending: 4 ID ("name" "imapsync" "version" "2.223" "os" "linux" "vendor" "Gilles LAMIRAL" "support-url" "https://imapsync.lamiral.info/" "date" "03-Jul-2022 10:39:30 +0000" "side" "host2")
Sent 181 bytes
Read: 	* ID ("name" "GImap" "vendor" "Google, Inc." "support-url" "https://support.google.com/mail" "version" "gmail_imap_220624.08_p0" "remote-host" "2a01:e34:ecde:70d0:223:54ff:fec2:36d7")
  	4 OK Success

Host2: QUOTA capability found, presented in raw IMAP on next lines
Sending: 5 GETQUOTAROOT INBOX
Sent 22 bytes
Read: 	* QUOTAROOT "INBOX" ""
  	* QUOTA "" (STORAGE 687 15728640)
  	5 OK Success

Host2: Quota current storage is 703488 bytes. Limit is 16106127360 bytes. So 0.00 % full
Host2: found APPENDLIMIT=35651584 in CAPABILITY (use --appendlimit xxxx to override this automatic setting)
Host2: Setting maxsize to appendlimit 35651584
Host1: Compression is off. Use --compress1 to allow compression on host1
Host2: Compression is off. Use --compress2 to allow compression on host2
Host1: found 8 folders.
Host2: found 8 folders.
Host1: guessing separator from folder listing: [/]
Host1: separator given by NAMESPACE: [/]
Host2: guessing separator from folder listing: [/]
Host2: separator given by NAMESPACE: [/]
Host1: guessing prefix from folder listing: []
Host1: prefix given by NAMESPACE: []
Host2: guessing prefix from folder listing: []
Host2: prefix given by NAMESPACE: []
Host1: separator and prefix: [/][]
Host2: separator and prefix: [/][]
Including all folders found by default. Use --subscribed or --folder or --folderrec or --include to select specific folders. Use --exclude to unselect specific folders.
Excluding folders matching pattern \[Gmail\]$

Host1: Checking wanted folders exist. Use --nocheckfoldersexist to avoid this check (shared of public namespace targeted).
Host1: Checking wanted folders are selectable. Use --nocheckselectable to avoid this check.
Turned on automapping folders ( use --noautomap to turn off automapping )
Host1: special [Gmail]/All Mail     = \All
Host1: special [Gmail]/Drafts       = \Drafts
Host1: special [Gmail]/Sent Mail    = \Sent
Host1: special [Gmail]/Spam         = \Junk
Host1: special [Gmail]/Starred      = \Flagged
Host1: special [Gmail]/Trash        = \Trash

Host2: special [Gmail]/All Mail     = \All
Host2: special [Gmail]/Drafts       = \Drafts
Host2: special [Gmail]/Sent Mail    = \Sent
Host2: special [Gmail]/Spam         = \Junk
Host2: special [Gmail]/Starred      = \Flagged
Host2: special [Gmail]/Trash        = \Trash


++++ Listing folders
All foldernames are presented between brackets like [X] where X is the foldername.
When a foldername contains non-ASCII characters it is presented in the form
[X] = [Y] where
X is the imap foldername you have to use in command line options and
Y is the utf8 output just printed for convenience, to recognize it.

Host1: folders list (first the raw imap format then the [X] = [Y]):
* LIST (\HasNoChildren) "/" "INBOX"
* LIST (\HasChildren \Noselect) "/" "[Gmail]"
* LIST (\All \HasNoChildren) "/" "[Gmail]/All Mail"
* LIST (\Drafts \HasNoChildren) "/" "[Gmail]/Drafts"
* LIST (\HasNoChildren \Important) "/" "[Gmail]/Important"
* LIST (\HasNoChildren \Sent) "/" "[Gmail]/Sent Mail"
* LIST (\HasNoChildren \Junk) "/" "[Gmail]/Spam"
* LIST (\Flagged \HasNoChildren) "/" "[Gmail]/Starred"
* LIST (\HasNoChildren \Trash) "/" "[Gmail]/Trash"
18 OK Success

[INBOX]
[[Gmail]/All Mail]
[[Gmail]/Drafts]
[[Gmail]/Important]
[[Gmail]/Sent Mail]
[[Gmail]/Spam]
[[Gmail]/Starred]
[[Gmail]/Trash]

Host2: folders list (first the raw imap format then the [X] = [Y]):
* LIST (\HasNoChildren) "/" "INBOX"
* LIST (\HasChildren \Noselect) "/" "[Gmail]"
* LIST (\All \HasNoChildren) "/" "[Gmail]/All Mail"
* LIST (\Drafts \HasNoChildren) "/" "[Gmail]/Drafts"
* LIST (\HasNoChildren \Important) "/" "[Gmail]/Important"
* LIST (\HasNoChildren \Sent) "/" "[Gmail]/Sent Mail"
* LIST (\HasNoChildren \Junk) "/" "[Gmail]/Spam"
* LIST (\Flagged \HasNoChildren) "/" "[Gmail]/Starred"
* LIST (\HasNoChildren \Trash) "/" "[Gmail]/Trash"
11 OK Success

[INBOX]
[[Gmail]/All Mail]
[[Gmail]/Drafts]
[[Gmail]/Important]
[[Gmail]/Sent Mail]
[[Gmail]/Spam]
[[Gmail]/Starred]
[[Gmail]/Trash]

Folders mapping from --automap feature (use --f1f2 to override any mapping):
[[Gmail]/Starred]                        -> [[Gmail]/Starred]                       
[[Gmail]/Trash]                          -> [[Gmail]/Trash]                         
[[Gmail]/Sent Mail]                      -> [[Gmail]/Sent Mail]                     
[[Gmail]/Drafts]                         -> [[Gmail]/Drafts]                        
[[Gmail]/Spam]                           -> [[Gmail]/Spam]                          
[[Gmail]/All Mail]                       -> [[Gmail]/All Mail]                      

Exiting because of --justfolderlists
Exiting with return value 0 (EX_OK: successful termination) 0/50 nb_errors/max_errors PID 31806
Removing pidfile /tmp/imapsync.pid
Disconnecting from host1 imap.gmail.com user1 imapsync.gl0@gmail.com
Disconnecting from host2 imap.gmail.com user2 imapsync.gl0@gmail.com
Log file is LOG_imapsync/2022_07_07_09_53_35_129_imapsync.gl0@gmail.com_imapsync.gl0@gmail.com.txt ( to change it, use --logfile filepath ; or use --nolog to turn off logging )
Here is imapsync 2.223 on host petite, a linux system with 0.1/2.0 free GiB of RAM, 108.07% used by processes.
with Perl 5.22.1 and Mail::IMAPClient 3.43
Transfer started at jeudi 07 juillet 2022-07-07 09:53:44 +0200 CEST
PID is 31811 my PPID is 31540
Log file is LOG_imapsync/2022_07_07_09_53_44_949_imapsync.gl1@gmail.com_imapsync.gl1@gmail.com.txt ( to change it, use --logfile path ; or use --nolog to turn off logging )
Load is 0.23 0.28 0.32 4/631 on 2 cores
Current directory is /home/gilles/public_html/imapsync
Real user id is gilles (uid 1000)
Effective user id is gilles (euid 1000)
$RCSfile: imapsync,v $ $Revision: 2.223 $ $Date: 2022/07/03 10:39:30 $ 
Command line used, run by /usr/bin/perl:
./imapsync --gmail1 --user1 imapsync.gl1@gmail.com --passfile1 ../../var/pass/secret.imapsync.gl1_gmail --gmail2 --user2 imapsync.gl1@gmail.com --passfile2 ../../var/pass/secret.imapsync.gl1_gmail --no-modulesversion --justfolderlists
Temp directory is /tmp ( to change it use --tmpdir dirpath )
kill -QUIT 31811 # special behavior: call to sub catch_exit
kill -TERM 31811 # special behavior: call to sub catch_exit
kill -INT 31811 # special behavior: call to sub catch_reconnect
kill -HUP 31811 # special behavior: call to sub catch_print
kill -USR1 31811 # special behavior: call to sub toggle_sleep
File /tmp/imapsync.pid does not exist
PID file is /tmp/imapsync.pid ( to change it, use --pidfile filepath ; to avoid it use --pidfile "" )
Writing my PID 31811 in /tmp/imapsync.pid
Writing also my logfile name in /tmp/imapsync.pid : LOG_imapsync/2022_07_07_09_53_44_949_imapsync.gl1@gmail.com_imapsync.gl1@gmail.com.txt
Info: will resync flags for already transferred messages. Use --noresyncflags to not resync flags.
SSL debug mode level is --debugssl 1 (can be set from 0 meaning no debug to 4 meaning max debug)
Host1: SSL default mode is like --sslargs1 "SSL_verify_mode=0", meaning for host1 SSL_VERIFY_NONE, ie, do not check the server certificate.
Host1: Use --sslargs1 SSL_verify_mode=1 to have SSL_VERIFY_PEER, ie, check the server certificate. of host1
Host2: SSL default mode is like --sslargs2 "SSL_verify_mode=0", meaning for host2 SSL_VERIFY_NONE, ie, do not check the server certificate.
Host2: Use --sslargs2 SSL_verify_mode=1 to have SSL_VERIFY_PEER, ie, check the server certificate. of host2
Info: turned ON syncinternaldates, will set the internal dates (arrival dates) on host2 same as host1.
Host1: will try to use LOGIN authentication on host1
Host2: will try to use LOGIN authentication on host2
Host1: imap connection timeout is 120 seconds
Host2: imap connection timeout is 120 seconds
Host1: imap connection keepalive is on on host1. Use --nokeepalive1 to disable it.
Host2: imap connection keepalive is on on host2. Use --nokeepalive2 to disable it.
Host1: IMAP server [imap.gmail.com] port [993] user [imapsync.gl1@gmail.com]
Host2: IMAP server [imap.gmail.com] port [993] user [imapsync.gl1@gmail.com]
Host1: connecting and login on host1 [imap.gmail.com] port [993] with user [imapsync.gl1@gmail.com]
Host1 IP address: 2a00:1450:400c:c04::6c Local IP address: 2a01:e34:ecde:70d0:223:54ff:fec2:36d7
Host1 banner: * OK Gimap ready for requests from 2a01:e34:ecde:70d0:223:54ff:fec2:36d7 2mb79178924wmo
Host1 capability before authentication: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 XYZZY SASL-IR AUTH=XOAUTH2 AUTH=PLAIN AUTH=PLAIN-CLIENTTOKEN AUTH=OAUTHBEARER AUTH=XOAUTH AUTH
Host1: success login on [imap.gmail.com] with user [imapsync.gl1@gmail.com] auth [LOGIN] or [LOGIN]
Host2: connecting and login on host2 [imap.gmail.com] port [993] with user [imapsync.gl1@gmail.com]
Host2 IP address: 2a00:1450:400c:c04::6d Local IP address: 2a01:e34:ecde:70d0:223:54ff:fec2:36d7
Host2 banner: * OK Gimap ready for requests from 2a01:e34:ecde:70d0:223:54ff:fec2:36d7 y2mb272977894wrd
Host2 capability before authentication: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 XYZZY SASL-IR AUTH=XOAUTH2 AUTH=PLAIN AUTH=PLAIN-CLIENTTOKEN AUTH=OAUTHBEARER AUTH=XOAUTH AUTH
Host2: success login on [imap.gmail.com] with user [imapsync.gl1@gmail.com] auth [LOGIN] or [LOGIN]
Host1: state Authenticated
Host2: state Authenticated
Host1 capability once authenticated: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE ENABLE MOVE CONDSTORE ESEARCH UTF8=ACCEPT LIST-EXTENDED LIST-STATUS LITERAL- SPECIAL-USE APPENDLIMIT=35651584 COMPRESS UTF8 APPENDLIMIT
Host2 capability once authenticated: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE ENABLE MOVE CONDSTORE ESEARCH UTF8=ACCEPT LIST-EXTENDED LIST-STATUS LITERAL- SPECIAL-USE APPENDLIMIT=35651584 COMPRESS UTF8 APPENDLIMIT
Host1: found ID capability. Sending/receiving ID, presented in raw IMAP for now.
In order to avoid sending/receiving ID, use option --noid
Sending: 4 ID ("name" "imapsync" "version" "2.223" "os" "linux" "vendor" "Gilles LAMIRAL" "support-url" "https://imapsync.lamiral.info/" "date" "03-Jul-2022 10:39:30 +0000" "side" "host1")
Sent 181 bytes
Read: 	* ID ("name" "GImap" "vendor" "Google, Inc." "support-url" "https://support.google.com/mail" "version" "gmail_imap_220624.08_p0" "remote-host" "2a01:e34:ecde:70d0:223:54ff:fec2:36d7")
  	4 OK Success
Host2: found ID capability. Sending/receiving ID, presented in raw IMAP for now.
In order to avoid sending/receiving ID, use option --noid
Sending: 4 ID ("name" "imapsync" "version" "2.223" "os" "linux" "vendor" "Gilles LAMIRAL" "support-url" "https://imapsync.lamiral.info/" "date" "03-Jul-2022 10:39:30 +0000" "side" "host2")
Sent 181 bytes
Read: 	* ID ("name" "GImap" "vendor" "Google, Inc." "support-url" "https://support.google.com/mail" "version" "gmail_imap_220624.08_p0" "remote-host" "2a01:e34:ecde:70d0:223:54ff:fec2:36d7")
  	4 OK Success

Host2: QUOTA capability found, presented in raw IMAP on next lines
Sending: 5 GETQUOTAROOT INBOX
Sent 22 bytes
Read: 	* QUOTAROOT "INBOX" ""
  	* QUOTA "" (STORAGE 391 15728640)
  	5 OK Success

Host2: Quota current storage is 400384 bytes. Limit is 16106127360 bytes. So 0.00 % full
Host2: found APPENDLIMIT=35651584 in CAPABILITY (use --appendlimit xxxx to override this automatic setting)
Host2: Setting maxsize to appendlimit 35651584
Host1: Compression is off. Use --compress1 to allow compression on host1
Host2: Compression is off. Use --compress2 to allow compression on host2
Host1: found 12 folders.
Host2: found 12 folders.
Host1: guessing separator from folder listing: [/]
Host1: separator given by NAMESPACE: [/]
Host2: guessing separator from folder listing: [/]
Host2: separator given by NAMESPACE: [/]
Host1: guessing prefix from folder listing: []
Host1: prefix given by NAMESPACE: []
Host2: guessing prefix from folder listing: []
Host2: prefix given by NAMESPACE: []
Host1: separator and prefix: [/][]
Host2: separator and prefix: [/][]
Including all folders found by default. Use --subscribed or --folder or --folderrec or --include to select specific folders. Use --exclude to unselect specific folders.
Excluding folders matching pattern \[Gmail\]$

Host1: Checking wanted folders exist. Use --nocheckfoldersexist to avoid this check (shared of public namespace targeted).
Host1: Checking wanted folders are selectable. Use --nocheckselectable to avoid this check.
Turned on automapping folders ( use --noautomap to turn off automapping )
Host1: special [Gmail]/All Mail     = \All
Host1: special [Gmail]/Starred      = \Flagged

Host2: special [Gmail]/All Mail     = \All
Host2: special [Gmail]/Starred      = \Flagged


++++ Listing folders
All foldernames are presented between brackets like [X] where X is the foldername.
When a foldername contains non-ASCII characters it is presented in the form
[X] = [Y] where
X is the imap foldername you have to use in command line options and
Y is the utf8 output just printed for convenience, to recognize it.

Host1: folders list (first the raw imap format then the [X] = [Y]):
* LIST (\HasNoChildren) "/" "Blabla"
* LIST (\HasNoChildren) "/" "Blan Blan"
* LIST (\HasNoChildren) "/" "Coucou"
* LIST (\HasNoChildren) "/" "INBOX"
* LIST (\HasNoChildren) "/" "Test"
* LIST (\HasNoChildren) "/" "Work"
* LIST (\HasChildren \Noselect) "/" "[Gmail]"
* LIST (\All \HasNoChildren) "/" "[Gmail]/All Mail"
* LIST (\HasNoChildren \Important) "/" "[Gmail]/Important"
* LIST (\Flagged \HasNoChildren) "/" "[Gmail]/Starred"
* LIST (\HasNoChildren) "/" "\\Important"
* LIST (\HasNoChildren) "/" "\\Inbox"
* LIST (\HasNoChildren) "/" "\\Starred"
22 OK Success

[Blabla]
[Blan Blan]
[Coucou]
[INBOX]
[Test]
[Work]
[[Gmail]/All Mail]
[[Gmail]/Important]
[[Gmail]/Starred]
[\Important]
[\Inbox]
[\Starred]

Host2: folders list (first the raw imap format then the [X] = [Y]):
* LIST (\HasNoChildren) "/" "Blabla"
* LIST (\HasNoChildren) "/" "Blan Blan"
* LIST (\HasNoChildren) "/" "Coucou"
* LIST (\HasNoChildren) "/" "INBOX"
* LIST (\HasNoChildren) "/" "Test"
* LIST (\HasNoChildren) "/" "Work"
* LIST (\HasChildren \Noselect) "/" "[Gmail]"
* LIST (\All \HasNoChildren) "/" "[Gmail]/All Mail"
* LIST (\HasNoChildren \Important) "/" "[Gmail]/Important"
* LIST (\Flagged \HasNoChildren) "/" "[Gmail]/Starred"
* LIST (\HasNoChildren) "/" "\\Important"
* LIST (\HasNoChildren) "/" "\\Inbox"
* LIST (\HasNoChildren) "/" "\\Starred"
11 OK Success

[Blabla]
[Blan Blan]
[Coucou]
[INBOX]
[Test]
[Work]
[[Gmail]/All Mail]
[[Gmail]/Important]
[[Gmail]/Starred]
[\Important]
[\Inbox]
[\Starred]

Folders mapping from --automap feature (use --f1f2 to override any mapping):
[[Gmail]/Starred]                        -> [[Gmail]/Starred]                       
[[Gmail]/All Mail]                       -> [[Gmail]/All Mail]                      

Exiting because of --justfolderlists
Exiting with return value 0 (EX_OK: successful termination) 0/50 nb_errors/max_errors PID 31811
Removing pidfile /tmp/imapsync.pid
Disconnecting from host1 imap.gmail.com user1 imapsync.gl1@gmail.com
Disconnecting from host2 imap.gmail.com user2 imapsync.gl1@gmail.com
Log file is LOG_imapsync/2022_07_07_09_53_44_949_imapsync.gl1@gmail.com_imapsync.gl1@gmail.com.txt ( to change it, use --logfile filepath ; or use --nolog to turn off logging )
Here is imapsync 2.223 on host petite, a linux system with 0.1/2.0 free GiB of RAM, 109.22% used by processes.
with Perl 5.22.1 and Mail::IMAPClient 3.43
Transfer started at jeudi 07 juillet 2022-07-07 09:53:57 +0200 CEST
PID is 31816 my PPID is 31540
Log file is LOG_imapsync/2022_07_07_09_53_57_868_imapsync.gl2@gmail.com_imapsync.gl2@gmail.com.txt ( to change it, use --logfile path ; or use --nolog to turn off logging )
Load is 0.42 0.32 0.34 2/634 on 2 cores
Current directory is /home/gilles/public_html/imapsync
Real user id is gilles (uid 1000)
Effective user id is gilles (euid 1000)
$RCSfile: imapsync,v $ $Revision: 2.223 $ $Date: 2022/07/03 10:39:30 $ 
Command line used, run by /usr/bin/perl:
./imapsync --gmail1 --user1 imapsync.gl2@gmail.com --passfile1 ../../var/pass/secret.imapsync.gl2_gmail --gmail2 --user2 imapsync.gl2@gmail.com --passfile2 ../../var/pass/secret.imapsync.gl2_gmail --no-modulesversion --justfolderlists
Temp directory is /tmp ( to change it use --tmpdir dirpath )
kill -QUIT 31816 # special behavior: call to sub catch_exit
kill -TERM 31816 # special behavior: call to sub catch_exit
kill -INT 31816 # special behavior: call to sub catch_reconnect
kill -HUP 31816 # special behavior: call to sub catch_print
kill -USR1 31816 # special behavior: call to sub toggle_sleep
File /tmp/imapsync.pid does not exist
PID file is /tmp/imapsync.pid ( to change it, use --pidfile filepath ; to avoid it use --pidfile "" )
Writing my PID 31816 in /tmp/imapsync.pid
Writing also my logfile name in /tmp/imapsync.pid : LOG_imapsync/2022_07_07_09_53_57_868_imapsync.gl2@gmail.com_imapsync.gl2@gmail.com.txt
Info: will resync flags for already transferred messages. Use --noresyncflags to not resync flags.
SSL debug mode level is --debugssl 1 (can be set from 0 meaning no debug to 4 meaning max debug)
Host1: SSL default mode is like --sslargs1 "SSL_verify_mode=0", meaning for host1 SSL_VERIFY_NONE, ie, do not check the server certificate.
Host1: Use --sslargs1 SSL_verify_mode=1 to have SSL_VERIFY_PEER, ie, check the server certificate. of host1
Host2: SSL default mode is like --sslargs2 "SSL_verify_mode=0", meaning for host2 SSL_VERIFY_NONE, ie, do not check the server certificate.
Host2: Use --sslargs2 SSL_verify_mode=1 to have SSL_VERIFY_PEER, ie, check the server certificate. of host2
Info: turned ON syncinternaldates, will set the internal dates (arrival dates) on host2 same as host1.
Host1: will try to use LOGIN authentication on host1
Host2: will try to use LOGIN authentication on host2
Host1: imap connection timeout is 120 seconds
Host2: imap connection timeout is 120 seconds
Host1: imap connection keepalive is on on host1. Use --nokeepalive1 to disable it.
Host2: imap connection keepalive is on on host2. Use --nokeepalive2 to disable it.
Host1: IMAP server [imap.gmail.com] port [993] user [imapsync.gl2@gmail.com]
Host2: IMAP server [imap.gmail.com] port [993] user [imapsync.gl2@gmail.com]
Host1: connecting and login on host1 [imap.gmail.com] port [993] with user [imapsync.gl2@gmail.com]
Host1 IP address: 2a00:1450:400c:c04::6c Local IP address: 2a01:e34:ecde:70d0:223:54ff:fec2:36d7
Host1 banner: * OK Gimap ready for requests from 2a01:e34:ecde:70d0:223:54ff:fec2:36d7 f9mb238805277wmg
Host1 capability before authentication: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 XYZZY SASL-IR AUTH=XOAUTH2 AUTH=PLAIN AUTH=PLAIN-CLIENTTOKEN AUTH=OAUTHBEARER AUTH=XOAUTH AUTH
Host1: success login on [imap.gmail.com] with user [imapsync.gl2@gmail.com] auth [LOGIN] or [LOGIN]
Host2: connecting and login on host2 [imap.gmail.com] port [993] with user [imapsync.gl2@gmail.com]
Host2 IP address: 2a00:1450:400c:c04::6d Local IP address: 2a01:e34:ecde:70d0:223:54ff:fec2:36d7
Host2 banner: * OK Gimap ready for requests from 2a01:e34:ecde:70d0:223:54ff:fec2:36d7 bi26mb169281364wmb
Host2 capability before authentication: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 XYZZY SASL-IR AUTH=XOAUTH2 AUTH=PLAIN AUTH=PLAIN-CLIENTTOKEN AUTH=OAUTHBEARER AUTH=XOAUTH AUTH
Host2: success login on [imap.gmail.com] with user [imapsync.gl2@gmail.com] auth [LOGIN] or [LOGIN]
Host1: state Authenticated
Host2: state Authenticated
Host1 capability once authenticated: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE ENABLE MOVE CONDSTORE ESEARCH UTF8=ACCEPT LIST-EXTENDED LIST-STATUS LITERAL- SPECIAL-USE APPENDLIMIT=35651584 COMPRESS UTF8 APPENDLIMIT
Host2 capability once authenticated: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE ENABLE MOVE CONDSTORE ESEARCH UTF8=ACCEPT LIST-EXTENDED LIST-STATUS LITERAL- SPECIAL-USE APPENDLIMIT=35651584 COMPRESS UTF8 APPENDLIMIT
Host1: found ID capability. Sending/receiving ID, presented in raw IMAP for now.
In order to avoid sending/receiving ID, use option --noid
Sending: 4 ID ("name" "imapsync" "version" "2.223" "os" "linux" "vendor" "Gilles LAMIRAL" "support-url" "https://imapsync.lamiral.info/" "date" "03-Jul-2022 10:39:30 +0000" "side" "host1")
Sent 181 bytes
Read: 	* ID ("name" "GImap" "vendor" "Google, Inc." "support-url" "https://support.google.com/mail" "version" "gmail_imap_220624.08_p0" "remote-host" "2a01:e34:ecde:70d0:223:54ff:fec2:36d7")
  	4 OK Success
Host2: found ID capability. Sending/receiving ID, presented in raw IMAP for now.
In order to avoid sending/receiving ID, use option --noid
Sending: 4 ID ("name" "imapsync" "version" "2.223" "os" "linux" "vendor" "Gilles LAMIRAL" "support-url" "https://imapsync.lamiral.info/" "date" "03-Jul-2022 10:39:30 +0000" "side" "host2")
Sent 181 bytes
Read: 	* ID ("name" "GImap" "vendor" "Google, Inc." "support-url" "https://support.google.com/mail" "version" "gmail_imap_220624.08_p0" "remote-host" "2a01:e34:ecde:70d0:223:54ff:fec2:36d7")
  	4 OK Success

Host2: QUOTA capability found, presented in raw IMAP on next lines
Sending: 5 GETQUOTAROOT INBOX
Sent 22 bytes
Read: 	* QUOTAROOT "INBOX" ""
  	* QUOTA "" (STORAGE 1177 15728640)
  	5 OK Success

Host2: Quota current storage is 1205248 bytes. Limit is 16106127360 bytes. So 0.01 % full
Host2: found APPENDLIMIT=35651584 in CAPABILITY (use --appendlimit xxxx to override this automatic setting)
Host2: Setting maxsize to appendlimit 35651584
Host1: Compression is off. Use --compress1 to allow compression on host1
Host2: Compression is off. Use --compress2 to allow compression on host2
Host1: found 26 folders.
Host2: found 26 folders.
Host1: guessing separator from folder listing: [/]
Host1: separator given by NAMESPACE: [/]
Host2: guessing separator from folder listing: [/]
Host2: separator given by NAMESPACE: [/]
Host1: guessing prefix from folder listing: []
Host1: prefix given by NAMESPACE: []
Host2: guessing prefix from folder listing: []
Host2: prefix given by NAMESPACE: []
Host1: separator and prefix: [/][]
Host2: separator and prefix: [/][]
Including all folders found by default. Use --subscribed or --folder or --folderrec or --include to select specific folders. Use --exclude to unselect specific folders.
Excluding folders matching pattern \[Gmail\]$

Host1: Checking wanted folders exist. Use --nocheckfoldersexist to avoid this check (shared of public namespace targeted).
Host1: Checking wanted folders are selectable. Use --nocheckselectable to avoid this check.
Turned on automapping folders ( use --noautomap to turn off automapping )
Host1: special [Gmail]/Brouillons   = \Drafts
Host1: special [Gmail]/Corbeille    = \Trash
Host1: special [Gmail]/Messages envoy&AOk-s = \Sent
Host1: special [Gmail]/Spam         = \Junk
Host1: special [Gmail]/Suivis       = \Flagged
Host1: special [Gmail]/Tous les messages = \All

Host2: special [Gmail]/Brouillons   = \Drafts
Host2: special [Gmail]/Corbeille    = \Trash
Host2: special [Gmail]/Messages envoy&AOk-s = \Sent
Host2: special [Gmail]/Spam         = \Junk
Host2: special [Gmail]/Suivis       = \Flagged
Host2: special [Gmail]/Tous les messages = \All


++++ Listing folders
All foldernames are presented between brackets like [X] where X is the foldername.
When a foldername contains non-ASCII characters it is presented in the form
[X] = [Y] where
X is the imap foldername you have to use in command line options and
Y is the utf8 output just printed for convenience, to recognize it.

Host1: folders list (first the raw imap format then the [X] = [Y]):
* LIST (\HasChildren \Noselect) "/" "Archive"
* LIST (\HasChildren) "/" "Archive/Bob"
* LIST (\HasNoChildren) "/" "Archive/Bob/Blabla"
* LIST (\HasNoChildren) "/" "Archive/Bob/Blan Blan"
* LIST (\HasNoChildren) "/" "Archive/Bob/Coucou"
* LIST (\HasNoChildren) "/" "Archive/Bob/INBOX"
* LIST (\HasNoChildren) "/" "Archive/Bob/Test"
* LIST (\HasNoChildren) "/" "Archive/Bob/Work"
* LIST (\HasNoChildren) "/" "Archive/Bob/\\Important"
* LIST (\HasNoChildren) "/" "Archive/Bob/\\Inbox"
* LIST (\HasNoChildren) "/" "Archive/Bob/\\Starred"
* LIST (\HasNoChildren) "/" "Blabla"
* LIST (\HasNoChildren) "/" "Blan Blan"
* LIST (\HasNoChildren) "/" "Coucou"
* LIST (\HasNoChildren) "/" "INBOX"
* LIST (\HasNoChildren) "/" "Test"
* LIST (\HasNoChildren) "/" "Work"
* LIST (\HasChildren \Noselect) "/" "[Gmail]"
* LIST (\Drafts \HasNoChildren) "/" "[Gmail]/Brouillons"
* LIST (\HasNoChildren \Trash) "/" "[Gmail]/Corbeille"
* LIST (\HasNoChildren \Important) "/" "[Gmail]/Important"
* LIST (\HasNoChildren \Sent) "/" "[Gmail]/Messages envoy&AOk-s"
* LIST (\HasNoChildren \Junk) "/" "[Gmail]/Spam"
* LIST (\Flagged \HasNoChildren) "/" "[Gmail]/Suivis"
* LIST (\All \HasNoChildren) "/" "[Gmail]/Tous les messages"
* LIST (\HasNoChildren) "/" "\\Important"
* LIST (\HasNoChildren) "/" "\\Inbox"
* LIST (\HasNoChildren) "/" "\\Starred"
36 OK Success

[Archive/Bob]
[Archive/Bob/Blabla]
[Archive/Bob/Blan Blan]
[Archive/Bob/Coucou]
[Archive/Bob/INBOX]
[Archive/Bob/Test]
[Archive/Bob/Work]
[Archive/Bob/\Important]
[Archive/Bob/\Inbox]
[Archive/Bob/\Starred]
[Blabla]
[Blan Blan]
[Coucou]
[INBOX]
[Test]
[Work]
[[Gmail]/Brouillons]
[[Gmail]/Corbeille]
[[Gmail]/Important]
[[Gmail]/Messages envoy&AOk-s] = [[Gmail]/Messages envoyés]
[[Gmail]/Spam]
[[Gmail]/Suivis]
[[Gmail]/Tous les messages]
[\Important]
[\Inbox]
[\Starred]

Host2: folders list (first the raw imap format then the [X] = [Y]):
* LIST (\HasChildren \Noselect) "/" "Archive"
* LIST (\HasChildren) "/" "Archive/Bob"
* LIST (\HasNoChildren) "/" "Archive/Bob/Blabla"
* LIST (\HasNoChildren) "/" "Archive/Bob/Blan Blan"
* LIST (\HasNoChildren) "/" "Archive/Bob/Coucou"
* LIST (\HasNoChildren) "/" "Archive/Bob/INBOX"
* LIST (\HasNoChildren) "/" "Archive/Bob/Test"
* LIST (\HasNoChildren) "/" "Archive/Bob/Work"
* LIST (\HasNoChildren) "/" "Archive/Bob/\\Important"
* LIST (\HasNoChildren) "/" "Archive/Bob/\\Inbox"
* LIST (\HasNoChildren) "/" "Archive/Bob/\\Starred"
* LIST (\HasNoChildren) "/" "Blabla"
* LIST (\HasNoChildren) "/" "Blan Blan"
* LIST (\HasNoChildren) "/" "Coucou"
* LIST (\HasNoChildren) "/" "INBOX"
* LIST (\HasNoChildren) "/" "Test"
* LIST (\HasNoChildren) "/" "Work"
* LIST (\HasChildren \Noselect) "/" "[Gmail]"
* LIST (\Drafts \HasNoChildren) "/" "[Gmail]/Brouillons"
* LIST (\HasNoChildren \Trash) "/" "[Gmail]/Corbeille"
* LIST (\HasNoChildren \Important) "/" "[Gmail]/Important"
* LIST (\HasNoChildren \Sent) "/" "[Gmail]/Messages envoy&AOk-s"
* LIST (\HasNoChildren \Junk) "/" "[Gmail]/Spam"
* LIST (\Flagged \HasNoChildren) "/" "[Gmail]/Suivis"
* LIST (\All \HasNoChildren) "/" "[Gmail]/Tous les messages"
* LIST (\HasNoChildren) "/" "\\Important"
* LIST (\HasNoChildren) "/" "\\Inbox"
* LIST (\HasNoChildren) "/" "\\Starred"
11 OK Success

[Archive/Bob]
[Archive/Bob/Blabla]
[Archive/Bob/Blan Blan]
[Archive/Bob/Coucou]
[Archive/Bob/INBOX]
[Archive/Bob/Test]
[Archive/Bob/Work]
[Archive/Bob/\Important]
[Archive/Bob/\Inbox]
[Archive/Bob/\Starred]
[Blabla]
[Blan Blan]
[Coucou]
[INBOX]
[Test]
[Work]
[[Gmail]/Brouillons]
[[Gmail]/Corbeille]
[[Gmail]/Important]
[[Gmail]/Messages envoy&AOk-s] = [[Gmail]/Messages envoyés]
[[Gmail]/Spam]
[[Gmail]/Suivis]
[[Gmail]/Tous les messages]
[\Important]
[\Inbox]
[\Starred]

Folders mapping from --automap feature (use --f1f2 to override any mapping):
[[Gmail]/Spam]                           -> [[Gmail]/Spam]                          
[[Gmail]/Tous les messages]              -> [[Gmail]/Tous les messages]             
[[Gmail]/Corbeille]                      -> [[Gmail]/Corbeille]                     
[[Gmail]/Suivis]                         -> [[Gmail]/Suivis]                        
[[Gmail]/Messages envoy&AOk-s] = [[Gmail]/Messages envoyés] -> [[Gmail]/Messages envoy&AOk-s] = [[Gmail]/Messages envoyés]
[[Gmail]/Brouillons]                     -> [[Gmail]/Brouillons]                    

Exiting because of --justfolderlists
Exiting with return value 0 (EX_OK: successful termination) 0/50 nb_errors/max_errors PID 31816
Removing pidfile /tmp/imapsync.pid
Disconnecting from host1 imap.gmail.com user1 imapsync.gl2@gmail.com
Disconnecting from host2 imap.gmail.com user2 imapsync.gl2@gmail.com
Log file is LOG_imapsync/2022_07_07_09_53_57_868_imapsync.gl2@gmail.com_imapsync.gl2@gmail.com.txt ( to change it, use --logfile filepath ; or use --nolog to turn off logging )
Here is imapsync 2.223 on host petite, a linux system with 0.1/2.0 free GiB of RAM, 109.03% used by processes.
with Perl 5.22.1 and Mail::IMAPClient 3.43
Transfer started at jeudi 07 juillet 2022-07-07 09:54:09 +0200 CEST
PID is 32065 my PPID is 31540
Log file is LOG_imapsync/2022_07_07_09_54_09_123_imapsync.gl3@gmail.com_imapsync.gl3@gmail.com.txt ( to change it, use --logfile path ; or use --nolog to turn off logging )
Load is 0.54 0.36 0.35 3/635 on 2 cores
Current directory is /home/gilles/public_html/imapsync
Real user id is gilles (uid 1000)
Effective user id is gilles (euid 1000)
$RCSfile: imapsync,v $ $Revision: 2.223 $ $Date: 2022/07/03 10:39:30 $ 
Command line used, run by /usr/bin/perl:
./imapsync --gmail1 --user1 imapsync.gl3@gmail.com --passfile1 ../../var/pass/secret.imapsync.gl3_gmail --gmail2 --user2 imapsync.gl3@gmail.com --passfile2 ../../var/pass/secret.imapsync.gl3_gmail --no-modulesversion --justfolderlists
Temp directory is /tmp ( to change it use --tmpdir dirpath )
kill -QUIT 32065 # special behavior: call to sub catch_exit
kill -TERM 32065 # special behavior: call to sub catch_exit
kill -INT 32065 # special behavior: call to sub catch_reconnect
kill -HUP 32065 # special behavior: call to sub catch_print
kill -USR1 32065 # special behavior: call to sub toggle_sleep
File /tmp/imapsync.pid does not exist
PID file is /tmp/imapsync.pid ( to change it, use --pidfile filepath ; to avoid it use --pidfile "" )
Writing my PID 32065 in /tmp/imapsync.pid
Writing also my logfile name in /tmp/imapsync.pid : LOG_imapsync/2022_07_07_09_54_09_123_imapsync.gl3@gmail.com_imapsync.gl3@gmail.com.txt
Info: will resync flags for already transferred messages. Use --noresyncflags to not resync flags.
SSL debug mode level is --debugssl 1 (can be set from 0 meaning no debug to 4 meaning max debug)
Host1: SSL default mode is like --sslargs1 "SSL_verify_mode=0", meaning for host1 SSL_VERIFY_NONE, ie, do not check the server certificate.
Host1: Use --sslargs1 SSL_verify_mode=1 to have SSL_VERIFY_PEER, ie, check the server certificate. of host1
Host2: SSL default mode is like --sslargs2 "SSL_verify_mode=0", meaning for host2 SSL_VERIFY_NONE, ie, do not check the server certificate.
Host2: Use --sslargs2 SSL_verify_mode=1 to have SSL_VERIFY_PEER, ie, check the server certificate. of host2
Info: turned ON syncinternaldates, will set the internal dates (arrival dates) on host2 same as host1.
Host1: will try to use LOGIN authentication on host1
Host2: will try to use LOGIN authentication on host2
Host1: imap connection timeout is 120 seconds
Host2: imap connection timeout is 120 seconds
Host1: imap connection keepalive is on on host1. Use --nokeepalive1 to disable it.
Host2: imap connection keepalive is on on host2. Use --nokeepalive2 to disable it.
Host1: IMAP server [imap.gmail.com] port [993] user [imapsync.gl3@gmail.com]
Host2: IMAP server [imap.gmail.com] port [993] user [imapsync.gl3@gmail.com]
Host1: connecting and login on host1 [imap.gmail.com] port [993] with user [imapsync.gl3@gmail.com]
Host1 IP address: 2a00:1450:400c:c04::6c Local IP address: 2a01:e34:ecde:70d0:223:54ff:fec2:36d7
Host1 banner: * OK Gimap ready for requests from 2a01:e34:ecde:70d0:223:54ff:fec2:36d7 o9mb168635237wmr
Host1 capability before authentication: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 XYZZY SASL-IR AUTH=XOAUTH2 AUTH=PLAIN AUTH=PLAIN-CLIENTTOKEN AUTH=OAUTHBEARER AUTH=XOAUTH AUTH
Host1: success login on [imap.gmail.com] with user [imapsync.gl3@gmail.com] auth [LOGIN] or [LOGIN]
Host2: connecting and login on host2 [imap.gmail.com] port [993] with user [imapsync.gl3@gmail.com]
Host2 IP address: 2a00:1450:400c:c04::6d Local IP address: 2a01:e34:ecde:70d0:223:54ff:fec2:36d7
Host2 banner: * OK Gimap ready for requests from 2a01:e34:ecde:70d0:223:54ff:fec2:36d7 l4mb132600559wml
Host2 capability before authentication: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 XYZZY SASL-IR AUTH=XOAUTH2 AUTH=PLAIN AUTH=PLAIN-CLIENTTOKEN AUTH=OAUTHBEARER AUTH=XOAUTH AUTH
Host2: success login on [imap.gmail.com] with user [imapsync.gl3@gmail.com] auth [LOGIN] or [LOGIN]
Host1: state Authenticated
Host2: state Authenticated
Host1 capability once authenticated: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE ENABLE MOVE CONDSTORE ESEARCH UTF8=ACCEPT LIST-EXTENDED LIST-STATUS LITERAL- SPECIAL-USE APPENDLIMIT=35651584 COMPRESS UTF8 APPENDLIMIT
Host2 capability once authenticated: IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE ENABLE MOVE CONDSTORE ESEARCH UTF8=ACCEPT LIST-EXTENDED LIST-STATUS LITERAL- SPECIAL-USE APPENDLIMIT=35651584 COMPRESS UTF8 APPENDLIMIT
Host1: found ID capability. Sending/receiving ID, presented in raw IMAP for now.
In order to avoid sending/receiving ID, use option --noid
Sending: 4 ID ("name" "imapsync" "version" "2.223" "os" "linux" "vendor" "Gilles LAMIRAL" "support-url" "https://imapsync.lamiral.info/" "date" "03-Jul-2022 10:39:30 +0000" "side" "host1")
Sent 181 bytes
Read: 	* ID ("name" "GImap" "vendor" "Google, Inc." "support-url" "https://support.google.com/mail" "version" "gmail_imap_220624.08_p0" "remote-host" "2a01:e34:ecde:70d0:223:54ff:fec2:36d7")
  	4 OK Success
Host2: found ID capability. Sending/receiving ID, presented in raw IMAP for now.
In order to avoid sending/receiving ID, use option --noid
Sending: 4 ID ("name" "imapsync" "version" "2.223" "os" "linux" "vendor" "Gilles LAMIRAL" "support-url" "https://imapsync.lamiral.info/" "date" "03-Jul-2022 10:39:30 +0000" "side" "host2")
Sent 181 bytes
Read: 	* ID ("name" "GImap" "vendor" "Google, Inc." "support-url" "https://support.google.com/mail" "version" "gmail_imap_220624.08_p0" "remote-host" "2a01:e34:ecde:70d0:223:54ff:fec2:36d7")
  	4 OK Success

Host2: QUOTA capability found, presented in raw IMAP on next lines
Sending: 5 GETQUOTAROOT INBOX
Sent 22 bytes
Read: 	* QUOTAROOT "INBOX" ""
  	* QUOTA "" (STORAGE 443 15728640)
  	5 OK Success

Host2: Quota current storage is 453632 bytes. Limit is 16106127360 bytes. So 0.00 % full
Host2: found APPENDLIMIT=35651584 in CAPABILITY (use --appendlimit xxxx to override this automatic setting)
Host2: Setting maxsize to appendlimit 35651584
Host1: Compression is off. Use --compress1 to allow compression on host1
Host2: Compression is off. Use --compress2 to allow compression on host2
Host1: found 19 folders.
Host2: found 19 folders.
Host1: guessing separator from folder listing: [/]
Host1: separator given by NAMESPACE: [/]
Host2: guessing separator from folder listing: [/]
Host2: separator given by NAMESPACE: [/]
Host1: guessing prefix from folder listing: []
Host1: prefix given by NAMESPACE: []
Host2: guessing prefix from folder listing: []
Host2: prefix given by NAMESPACE: []
Host1: separator and prefix: [/][]
Host2: separator and prefix: [/][]
Including all folders found by default. Use --subscribed or --folder or --folderrec or --include to select specific folders. Use --exclude to unselect specific folders.
Excluding folders matching pattern \[Gmail\]$

Host1: Checking wanted folders exist. Use --nocheckfoldersexist to avoid this check (shared of public namespace targeted).
Host1: Checking wanted folders are selectable. Use --nocheckselectable to avoid this check.
Turned on automapping folders ( use --noautomap to turn off automapping )
Host1: special [Gmail]/All Mail     = \All
Host1: special [Gmail]/Drafts       = \Drafts
Host1: special [Gmail]/Sent Mail    = \Sent
Host1: special [Gmail]/Spam         = \Junk
Host1: special [Gmail]/Starred      = \Flagged
Host1: special [Gmail]/Trash        = \Trash

Host2: special [Gmail]/All Mail     = \All
Host2: special [Gmail]/Drafts       = \Drafts
Host2: special [Gmail]/Sent Mail    = \Sent
Host2: special [Gmail]/Spam         = \Junk
Host2: special [Gmail]/Starred      = \Flagged
Host2: special [Gmail]/Trash        = \Trash


++++ Listing folders
All foldernames are presented between brackets like [X] where X is the foldername.
When a foldername contains non-ASCII characters it is presented in the form
[X] = [Y] where
X is the imap foldername you have to use in command line options and
Y is the utf8 output just printed for convenience, to recognize it.

Host1: folders list (first the raw imap format then the [X] = [Y]):
* LIST (\HasChildren) "/" "Archive"
* LIST (\HasChildren) "/" "Archive/Bob"
* LIST (\HasNoChildren) "/" "Archive/Bob/Blabla"
* LIST (\HasNoChildren) "/" "Archive/Bob/Blan Blan"
* LIST (\HasNoChildren) "/" "Archive/Bob/Coucou"
* LIST (\HasNoChildren) "/" "Archive/Bob/INBOX"
* LIST (\HasNoChildren) "/" "Archive/Bob/Test"
* LIST (\HasNoChildren) "/" "Archive/Bob/Work"
* LIST (\HasNoChildren) "/" "Archive/Bob/\\Important"
* LIST (\HasNoChildren) "/" "Archive/Bob/\\Inbox"
* LIST (\HasNoChildren) "/" "Archive/Bob/\\Starred"
* LIST (\HasNoChildren) "/" "INBOX"
* LIST (\HasChildren \Noselect) "/" "[Gmail]"
* LIST (\All \HasNoChildren) "/" "[Gmail]/All Mail"
* LIST (\Drafts \HasNoChildren) "/" "[Gmail]/Drafts"
* LIST (\HasNoChildren \Important) "/" "[Gmail]/Important"
* LIST (\HasNoChildren \Sent) "/" "[Gmail]/Sent Mail"
* LIST (\HasNoChildren \Junk) "/" "[Gmail]/Spam"
* LIST (\Flagged \HasNoChildren) "/" "[Gmail]/Starred"
* LIST (\HasNoChildren \Trash) "/" "[Gmail]/Trash"
29 OK Success

[Archive]
[Archive/Bob]
[Archive/Bob/Blabla]
[Archive/Bob/Blan Blan]
[Archive/Bob/Coucou]
[Archive/Bob/INBOX]
[Archive/Bob/Test]
[Archive/Bob/Work]
[Archive/Bob/\Important]
[Archive/Bob/\Inbox]
[Archive/Bob/\Starred]
[INBOX]
[[Gmail]/All Mail]
[[Gmail]/Drafts]
[[Gmail]/Important]
[[Gmail]/Sent Mail]
[[Gmail]/Spam]
[[Gmail]/Starred]
[[Gmail]/Trash]

Host2: folders list (first the raw imap format then the [X] = [Y]):
* LIST (\HasChildren) "/" "Archive"
* LIST (\HasChildren) "/" "Archive/Bob"
* LIST (\HasNoChildren) "/" "Archive/Bob/Blabla"
* LIST (\HasNoChildren) "/" "Archive/Bob/Blan Blan"
* LIST (\HasNoChildren) "/" "Archive/Bob/Coucou"
* LIST (\HasNoChildren) "/" "Archive/Bob/INBOX"
* LIST (\HasNoChildren) "/" "Archive/Bob/Test"
* LIST (\HasNoChildren) "/" "Archive/Bob/Work"
* LIST (\HasNoChildren) "/" "Archive/Bob/\\Important"
* LIST (\HasNoChildren) "/" "Archive/Bob/\\Inbox"
* LIST (\HasNoChildren) "/" "Archive/Bob/\\Starred"
* LIST (\HasNoChildren) "/" "INBOX"
* LIST (\HasChildren \Noselect) "/" "[Gmail]"
* LIST (\All \HasNoChildren) "/" "[Gmail]/All Mail"
* LIST (\Drafts \HasNoChildren) "/" "[Gmail]/Drafts"
* LIST (\HasNoChildren \Important) "/" "[Gmail]/Important"
* LIST (\HasNoChildren \Sent) "/" "[Gmail]/Sent Mail"
* LIST (\HasNoChildren \Junk) "/" "[Gmail]/Spam"
* LIST (\Flagged \HasNoChildren) "/" "[Gmail]/Starred"
* LIST (\HasNoChildren \Trash) "/" "[Gmail]/Trash"
11 OK Success

[Archive]
[Archive/Bob]
[Archive/Bob/Blabla]
[Archive/Bob/Blan Blan]
[Archive/Bob/Coucou]
[Archive/Bob/INBOX]
[Archive/Bob/Test]
[Archive/Bob/Work]
[Archive/Bob/\Important]
[Archive/Bob/\Inbox]
[Archive/Bob/\Starred]
[INBOX]
[[Gmail]/All Mail]
[[Gmail]/Drafts]
[[Gmail]/Important]
[[Gmail]/Sent Mail]
[[Gmail]/Spam]
[[Gmail]/Starred]
[[Gmail]/Trash]

Folders mapping from --automap feature (use --f1f2 to override any mapping):
[[Gmail]/Trash]                          -> [[Gmail]/Trash]                         
[Archive]                                -> [Archive]                               
[[Gmail]/Spam]                           -> [[Gmail]/Spam]                          
[[Gmail]/Sent Mail]                      -> [[Gmail]/Sent Mail]                     
[[Gmail]/All Mail]                       -> [[Gmail]/All Mail]                      
[[Gmail]/Drafts]                         -> [[Gmail]/Drafts]                        
[[Gmail]/Starred]                        -> [[Gmail]/Starred]                       

Exiting because of --justfolderlists
Exiting with return value 0 (EX_OK: successful termination) 0/50 nb_errors/max_errors PID 32065
Removing pidfile /tmp/imapsync.pid
Disconnecting from host1 imap.gmail.com user1 imapsync.gl3@gmail.com
Disconnecting from host2 imap.gmail.com user2 imapsync.gl3@gmail.com
Log file is LOG_imapsync/2022_07_07_09_54_09_123_imapsync.gl3@gmail.com_imapsync.gl3@gmail.com.txt ( to change it, use --logfile filepath ; or use --nolog to turn off logging )
gmail_glX_all_justfolderlist passed
